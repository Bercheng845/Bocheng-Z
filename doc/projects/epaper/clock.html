<!DOCTYPE html>
<html lang="en"><!--
 __  __                __                                     __
/\ \/\ \              /\ \             __                    /\ \
\ \ \_\ \   __  __    \_\ \      __   /\_\      __       ___ \ \ \/'\
 \ \  _  \ /\ \/\ \   /'_` \   /'__`\ \/\ \   /'__`\    /'___\\ \ , <
  \ \ \ \ \\ \ \_\ \ /\ \L\ \ /\  __/  \ \ \ /\ \L\.\_ /\ \__/ \ \ \\`\
   \ \_\ \_\\/`____ \\ \___,_\\ \____\ _\ \ \\ \__/.\_\\ \____\ \ \_\ \_\
    \/_/\/_/ `/___/> \\/__,_ / \/____//\ \_\ \\/__/\/_/ \/____/  \/_/\/_/
                /\___/                \ \____/
                \/__/                  \/___/

Powered by Hydejack v9.1.6 <https://hydejack.com/>
-->







<!DOCTYPE html>
<html lang="en">

<head>
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-G3P4GRGGCC"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag() { dataLayer.push(arguments); }
    gtag('js', new Date());

    gtag('config', 'G-G3P4GRGGCC');
  </script>

  <script>
    // 在页面加载前检查保存的语言偏好
    const savedLang = localStorage.getItem('preferred_lang');
    if (savedLang) {
      document.documentElement.lang = savedLang;
    }
  </script>
  






  
    
<!-- Begin Jekyll SEO tag v2.8.0 -->
<title>Clock Configuration | Rayleigh</title>
<meta name="generator" content="Jekyll v3.10.0" />
<meta property="og:title" content="Clock Configuration" />
<meta name="author" content="Yilong Lin" />
<meta property="og:locale" content="en" />
<meta name="description" content="Rayleigh is an HCI researcher at SUSTech" />
<meta property="og:description" content="Rayleigh is an HCI researcher at SUSTech" />
<meta property="og:site_name" content="Rayleigh" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Clock Configuration" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"WebPage","author":{"@type":"Person","name":"Yilong Lin"},"description":"Rayleigh is an HCI researcher at SUSTech","headline":"Clock Configuration","publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"https://pageasset.rayleigh-lin.top/logo.webp"},"name":"Yilong Lin"},"url":"/projects/epaper/clock"}</script>
<!-- End Jekyll SEO tag -->


  

  



  <meta name="theme-color" content="rgb(25,55,71)">


<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta http-equiv="x-ua-compatible" content="ie=edge">

<meta name="mobile-web-app-capable" content="yes">

<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-title" content="Rayleigh">
<meta name="apple-mobile-web-app-status-bar-style" content="default">

<meta name="application-name" content="Rayleigh">

<meta name="generator" content="Hydejack v9.1.6" />


<link rel="alternate" href="/projects/epaper/clock" hreflang="en">

<link type="application/atom+xml" rel="alternate" href="/feed.xml" title="Rayleigh" />


<link rel="shortcut icon"    href="https://pageasset.rayleigh-lin.top/weblogo.webp">
<link rel="apple-touch-icon" href="https://pageasset.rayleigh-lin.top/weblogo.webp">

<link rel="manifest" href="/assets/site.webmanifest">

<link rel="dns-prefetch" href="https://fonts.googleapis.com"><link rel="dns-prefetch" href="https://fonts.gstatic.com">



<link rel="preload" href="/assets/img/swipe.svg" as="image" id="_hrefSwipeSVG">






<script>!function(r,c){"use strict";function a(e,t,n,o){e.addEventListener?e.addEventListener(t,n,o):e.attachEvent?e.attachEvent("on"+t,n):e["on"+t]=n}r.loadJS=function(e,t){var n=c.createElement("script"),e=(n.src=e,t&&a(n,"load",t,{once:!0}),c.scripts[0]);return e.parentNode.insertBefore(n,e),n},r._loaded=!1,r.loadJSDeferred=function(e,t){var n=c.createElement("script");function o(){r._loaded=!0,t&&a(n,"load",t,{once:!0});var e=c.scripts[0];e.parentNode.insertBefore(n,e)}return n.src=e,r._loaded?o():a(r,"load",o,{once:!0}),n},r.setRel=r.setRelStylesheet=function(e){a(c.getElementById(e),"load",function(){this.rel="stylesheet"},{once:!0})}}(window,document);
!function(a){"use strict";var b=function(b,c,d){function e(a){return h.body?a():void setTimeout(function(){e(a)})}function f(){i.addEventListener&&i.removeEventListener("load",f),i.media=d||"all"}var g,h=a.document,i=h.createElement("link");if(c)g=c;else{var j=(h.body||h.getElementsByTagName("head")[0]).childNodes;g=j[j.length-1]}var k=h.styleSheets;i.rel="stylesheet",i.href=b,i.media="only x",e(function(){g.parentNode.insertBefore(i,c?g:g.nextSibling)});var l=function(a){for(var b=i.href,c=k.length;c--;)if(k[c].href===b)return a();setTimeout(function(){l(a)})};return i.addEventListener&&i.addEventListener("load",f),i.onloadcssdefined=l,l(f),i};"undefined"!=typeof exports?exports.loadCSS=b:a.loadCSS=b}("undefined"!=typeof global?global:this);
!function(a){if(a.loadCSS){var b=loadCSS.relpreload={};if(b.support=function(){try{return a.document.createElement("link").relList.supports("preload")}catch(b){return!1}},b.poly=function(){for(var b=a.document.getElementsByTagName("link"),c=0;c<b.length;c++){var d=b[c];"preload"===d.rel&&"style"===d.getAttribute("as")&&(a.loadCSS(d.href,d,d.getAttribute("media")),d.rel=null)}},!b.support()){b.poly();var c=a.setInterval(b.poly,300);a.addEventListener&&a.addEventListener("load",function(){b.poly(),a.clearInterval(c)}),a.attachEvent&&a.attachEvent("onload",function(){a.clearInterval(c)})}}}(this);
!function(w) {
  w._baseURL = '/';
  w._publicPath = '/assets/js/';
  w._noPushState = false;
  w._noDrawer = false;
  w._noNavbar = false;
  w._noToc = false;
  w._noSearch = false;
  w._search = {
    DATA_URL: '/assets/sitedata.json?no-cache',
    STORAGE_KEY: 'mini-search/',
    INDEX_KEY: 'index--2025-04-21T23:50:40+08:00',
  };
  w._clapButton = true;
}(window);</script>


<script async src="/assets/bower_components/MathJax/es5/tex-mml-chtml.js" id="_MathJax"></script>


<!--[if gt IE 8]><!---->

  




<link rel="stylesheet" href="/assets/css/hydejack-9.1.6.css" id="_stylePreload">
<link rel="stylesheet" href="/assets/icomoon/style.css" id="_iconsPreload">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto+Slab:700%7CNoto+Sans:400,400i,700,700i&display=swap" id="_fontsPreload">



  <style id="_pageStyle">

html{--accent-color: rgb(79,177,186);--accent-color-faded: rgba(79,177,186,0.5);--accent-color-highlight: rgba(79,177,186,0.1);--accent-color-darkened: #409ba3;--theme-color: rgb(25,55,71)}

</style>


<!--<![endif]-->




  <style>
    .large-only {
      position: fixed !important;
      top: 20% !important;
      overflow-y: auto;
    }
  </style>
</head>

<body class="no-break-layout">
  
<hy-push-state id="_pushState" replace-selector="#_main"
  link-selector="a[href]:not([href^='/assets/']):not(.external):not(.no-push-state)" script-selector="script"
  duration="500" hashchange>
  
  
  <div id="_navbar" class="navbar fixed-top">
  <div class="content">
    <span class="sr-only">Jump to:</span>
    <div class="nav-btn-bar">
      <a id="_menu" class="nav-btn no-hover" href="#_drawer--opened">
        <span class="sr-only">Navigation</span>
        <span class="icon-menu"></span>
      </a>
      <div class="nav-span"></div>
    </div>
  </div>
</div>
<hr class="sr-only" hidden />

  <main
  id="_main"
  class="content layout-newpage"
  role="main"
>
  <nav id="breadcrumbs" class="screen-only"><ul>
  
  
    <li><a href="/">home</a></li>
    
      <li>
        
          <span>/</span>
          
          
          <a href="/projects/">projects</a>
        
      </li>
    
      <li>
        
          <span>/</span>
          
          
          <a href="/projects/epaper/">epaper</a>
        
      </li>
    
      <li>
        
          <span>/</span>
          <span>clock</span>
        
      </li>
    
  
</ul></nav>
  <!-- Debug Info -->
<!-- 
Current Lang: en
Title: Clock Configuration
Title ZH: 
Description: 
Description ZH: 
-->

<article class="page mb6" role="article">
  <header>
    <h1 class="page-title" data-title="Clock Configuration" data-title-zh="Clock Configuration">
      
      Clock Configuration
      
    </h1>
    



<div class="hr pb0"></div>

  </header>

  <head>
    <script>
        // 在页面加载时获取语言设置
        document.addEventListener('DOMContentLoaded', function () {
            const lang = document.documentElement.lang;
            updatePageContent(lang);
            updateTitleAndDesc(lang);
        });

        // 更新页面内容的函数
        function updatePageContent(lang) {
            const darkModeToggle = document.querySelector('.dark-mode-toggle');
            if (darkModeToggle) {
                // 根据语言设置切换标题
                darkModeToggle.title = lang === 'zh' ? '切换暗色模式' : 'Toggle Dark Mode';
            }

            // 更新内容显示
            const enContent = document.querySelector('.en-content');
            const zhContent = document.querySelector('.zh-content');
            if (enContent && zhContent) {
                if (lang === 'zh') {
                    enContent.style.display = 'none';
                    zhContent.style.display = 'block';
                } else {
                    enContent.style.display = 'block';
                    zhContent.style.display = 'none';
                }
            }
        }

        // 更新标题和描述的函数
        function updateTitleAndDesc(lang) {
            const title = document.querySelector('.page-title');
            const desc = document.querySelector('.note-sm');

            if (lang === 'zh') {
                if (title) {
                    const zhTitle = title.getAttribute('data-title-zh');
                    title.textContent = zhTitle || title.getAttribute('data-title');
                }
                if (desc) {
                    const zhDesc = desc.getAttribute('data-desc-zh');
                    desc.textContent = zhDesc || desc.getAttribute('data-desc');
                }
            } else {
                if (title) {
                    title.textContent = title.getAttribute('data-title');
                }
                if (desc) {
                    desc.textContent = desc.getAttribute('data-desc');
                }
            }
        }

        // 监听语言变化
        document.addEventListener('languageChanged', function (e) {
            const currentLang = document.documentElement.lang;
            updatePageContent(currentLang);
            updateTitleAndDesc(currentLang);
        });
    </script>
    <style>
        .mb6 {
            position: relative;
        }

        .mb6 .dark-mode-toggle {
            position: absolute;
            top: -125px;
            right: 20px;
            width: 40px;
            height: 40px;
            opacity: 0.6;
            border-radius: 50%;
            border: none;
            outline: none;
            padding: 0;
            display: flex;
            justify-content: center;
            align-items: center;
            overflow: hidden;
            background-color: var(--body-bg);
            cursor: pointer;
            box-shadow: none;
            z-index: 50;
        }

        .dark-mode-toggle:hover {
            opacity: 1;
            /* 鼠标悬停时增加不透明度 */
        }

        .animate-transition {
            transition: background-color 1s, color 1s;
        }

        .dark-mode {
            background-color: rgb(42, 45, 47);
            color: rgb(204, 204, 204);
        }

        .dark-mode a {
            color: rgb(204, 204, 204);
        }

        :root {
            --body-card: #FFFFFF;
            /* 明亮模式背景色，默认白色 */
            --body-cardcolor: #000000;
            /* 明亮模式文字颜色，默认黑色 */
        }

        body.dark-mode {
            --body-bg: rgb(42, 45, 47);
            /* 暗模式背景色 */
            --body-color: rgb(180, 180, 180);
            /* 暗模式文字颜色 */
            --body-card: rgb(49, 52, 54);
            /* 暗模式卡片背景色 */
            --body-cardcolor: rgb(204, 204, 204);
            /* 暗模式卡片文字颜色 */
            background-color: var(--body-bg);
            /* 使用CSS变量设置背景色 */
            color: var(--body-color);
            /* 使用CSS变量设置文字颜色 */
        }

        @media screen and (max-width: 1984px) {
            .mb6 .dark-mode-toggle {
                top: -120px;
                /* 小屏幕上一列布局 */
            }
        }

        @media screen and (max-width: 1376px) {
            .mb6 .dark-mode-toggle {
                top: -105px;
                /* 小屏幕上一列布局 */
            }
        }

        @media screen and (max-width: 672px) {
            .mb6 .dark-mode-toggle {
                top: -100px;
                /* 小屏幕上一列布局 */
                width: 30px;
                /* 按钮宽度 */
                height: 30px;
                /* 按钮高度 */
            }
        }
    </style>
</head>

<body>
    <ol class="large-only" id="markdown-toc">
  <li><a href="#the-following-are-suggestions-for-low-power-consumption" id="markdown-toc-the-following-are-suggestions-for-low-power-consumption">The following are suggestions for low power consumption</a>    <ol>
      <li><a href="#high-speed-external-hse-oscillator" id="markdown-toc-high-speed-external-hse-oscillator"><strong>High-Speed External (HSE) Oscillator</strong></a></li>
      <li><a href="#high-speed-internal-hsi-oscillator" id="markdown-toc-high-speed-internal-hsi-oscillator"><strong>High-Speed Internal (HSI) Oscillator</strong></a></li>
      <li><a href="#phase-locked-loop-pll" id="markdown-toc-phase-locked-loop-pll"><strong>Phase-Locked Loop (PLL)</strong></a></li>
      <li><a href="#system-clock-mux" id="markdown-toc-system-clock-mux"><strong>System Clock Mux</strong></a></li>
      <li><a href="#clock-prescalers" id="markdown-toc-clock-prescalers"><strong>Clock Prescalers</strong></a></li>
      <li><a href="#low-speed-oscillators" id="markdown-toc-low-speed-oscillators"><strong>Low-Speed Oscillators</strong></a></li>
      <li><a href="#mco-microcontroller-clock-output" id="markdown-toc-mco-microcontroller-clock-output"><strong>MCO (Microcontroller Clock Output)</strong></a></li>
      <li><a href="#peripheral-clocks" id="markdown-toc-peripheral-clocks"><strong>Peripheral Clocks</strong></a></li>
      <li><a href="#low-power-modes" id="markdown-toc-low-power-modes"><strong>Low-Power Modes</strong></a></li>
      <li><a href="#miscellaneous" id="markdown-toc-miscellaneous"><strong>Miscellaneous</strong></a></li>
    </ol>
  </li>
  <li><a href="#msi" id="markdown-toc-msi">MSI</a></li>
</ol>

<h2 id="the-following-are-suggestions-for-low-power-consumption">The following are suggestions for low power consumption</h2>

<h3 id="high-speed-external-hse-oscillator"><strong>High-Speed External (HSE) Oscillator</strong></h3>

<ul>
  <li>Consider using a lower frequency which can help reduce power consumption.</li>
</ul>

<h3 id="high-speed-internal-hsi-oscillator"><strong>High-Speed Internal (HSI) Oscillator</strong></h3>

<ul>
  <li>You might want to turn off the HSI if it’s not used or reduce the frequency if possible.</li>
</ul>

<h3 id="phase-locked-loop-pll"><strong>Phase-Locked Loop (PLL)</strong></h3>

<ul>
  <li>The PLL multiplies the HSE to get a higher system clock. If you do not need high-speed operation, consider disabling the PLL or using it with a lower multiplication factor.</li>
</ul>

<h3 id="system-clock-mux"><strong>System Clock Mux</strong></h3>

<ul>
  <li>If your application’s speed requirement is not high, this is a good choice as HSI usually consumes less power than HSE or PLL.</li>
</ul>

<h3 id="clock-prescalers"><strong>Clock Prescalers</strong></h3>

<ul>
  <li>You can increase the APB1 and APB2 prescaler values to reduce the peripheral clock speeds, thereby reducing power consumption.</li>
</ul>

<h3 id="low-speed-oscillators"><strong>Low-Speed Oscillators</strong></h3>

<ul>
  <li>LSE (Low-Speed External) and LSI (Low-Speed Internal) are typically used for RTC (Real-Time Clock) and watchdog functions. Ensure you are using the LSE or LSI appropriately, as these are designed for low-power operation.</li>
</ul>

<h3 id="mco-microcontroller-clock-output"><strong>MCO (Microcontroller Clock Output)</strong></h3>

<ul>
  <li>MCO is set to output a low-speed clock. Ensure this is needed for your application, as driving external components can increase power consumption.</li>
</ul>

<h3 id="peripheral-clocks"><strong>Peripheral Clocks</strong></h3>

<ul>
  <li>Disable any peripheral clocks that are not in use. For example, if you are not using I2C, SPI, USART, RNG, or ADC, ensure their clocks are turned off to save power.</li>
</ul>

<h3 id="low-power-modes"><strong>Low-Power Modes</strong></h3>

<ul>
  <li>Beyond the clock configuration, you should also consider using low-power modes provided by the MCU:
    <ul>
      <li><strong>Sleep Mode</strong>: Core stopped, peripherals can run.</li>
      <li><strong>Stop Mode</strong>: High and low-speed clocks are stopped.</li>
      <li><strong>Standby Mode</strong>: Only 1.2 V domain is supplied; the rest are powered off.</li>
    </ul>
  </li>
</ul>

<h3 id="miscellaneous"><strong>Miscellaneous</strong></h3>

<ul>
  <li>Check the voltage scaling settings, which can be adjusted for lower power consumption.</li>
  <li>The “To Power Domain” settings should be carefully managed to ensure only necessary blocks are powered.</li>
</ul>

<h2 id="msi">MSI</h2>

<ul>
  <li>using the Multi-Speed Internal (MSI) oscillator at a lower frequency can indeed lead to lower power consumption. The MSI oscillator in STM32 microcontrollers is designed to provide a range of frequency options, and the lower the frequency, the less power the MCU typically consumes.</li>
  <li><strong>Peripheral Clock Requirements</strong>: Ensure that the peripherals you plan to use can operate at the lower clock frequencies you’re planning to set. Some peripherals might have minimum clock requirements for proper operation.</li>
  <li><strong>Execution Time</strong>: Your application code will run slower, which could be critical depending on the timing requirements of your application.</li>
  <li><strong>Peripheral Initialization</strong>: Some initialization codes might assume a certain clock speed. If you change the clock settings, ensure that the initialization code for the peripherals is also updated accordingly.</li>
  <li><strong>Wait States</strong>: Lowering the system clock frequency might allow you to reduce or eliminate flash memory wait states, which can further reduce power consumption.</li>
  <li><strong>RTC and WDG</strong>: If you’re using the Real-Time Clock (RTC) or the Watchdog Timer (WDG), these peripherals typically use the LSI or LSE, which are independent of the system clock and can operate in low-power modes.</li>
</ul>

<p>In STM32CubeMX, you can also use the “Power Consumption Calculator” tool to estimate the power consumption with your current settings. This can guide you in fine-tuning the settings for better power efficiency.</p>

<p>Make sure to validate each change in the configuration with the actual hardware setup to ensure that the system behaves as expected. Additionally, refer to the STM32WLE5CCU6 datasheet and reference manual for detailed information on the power characteristics of each peripheral and clock configuration.</p>

    <button class="dark-mode-toggle" title="Toggle Dark Mode"
        style="width: 40px; height: 40px;">
        <svg width="30px" height="30px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg">
            <g fill="var(--body-cardcolor)" fill-rule="nonzero">
                <path
                    d="M12,22 C17.5228475,22 22,17.5228475 22,12 C22,6.4771525 17.5228475,2 12,2 C6.4771525,2 2,6.4771525 2,12 C2,17.5228475 6.4771525,22 12,22 Z M12,20.5 L12,3.5 C16.6944204,3.5 20.5,7.30557963 20.5,12 C20.5,16.6944204 16.6944204,20.5 12,20.5 Z">
                </path>
            </g>
        </svg>
    </button>
    <script>
        (function () {
            var darkModeToggles = document.querySelectorAll('.dark-mode-toggle');
            if (darkModeToggles.length === 0) {
                return;
            }

            var currentMode = localStorage.getItem('darkMode') === 'enabled';
            if (currentMode) {
                document.body.classList.add('dark-mode');
            }

            darkModeToggles.forEach(function (toggle) {
                toggle.addEventListener('click', function () {
                    if (!document.body.classList.contains('animate-transition')) {
                        document.body.classList.add('animate-transition');

                        setTimeout(() => {
                            document.body.classList.toggle('dark-mode');
                            var mode = document.body.classList.contains('dark-mode') ? 'enabled' : 'disabled';
                            localStorage.setItem('darkMode', mode);

                            setTimeout(() => {
                                document.body.classList.remove('animate-transition');
                            }, 1000);
                        }, 0);
                    }
                });
            });

        })();
    </script>
</body>
</article>


  <hr class="dingbat related mb6" />




  
<footer class="content" role="contentinfo">
  <hr/>
  
    <p><small class="copyright">© 2024. All rights reserved.
</small></p>
  
  
    <p><small>Powered by <a class="external" href="https://hydejack.com/">Hydejack</a> v<span id="_version">9.1.6</span></small></p>
  <hr class="sr-only"/>
</footer>


</main>

  <hy-drawer id="_drawer" class="" side="left" threshold="10" noscroll >
  <header id="_sidebar" class="sidebar" role="banner">
    




<div class="sidebar-bg sidebar-overlay" style="background-color:rgb(25,55,71);background-image:url(https://pageasset.rayleigh-lin.top/sidebar-bg.webp)"></div>

    <div class="sidebar-sticky">
  <div class="sidebar-about">
    
      <a class="no-hover" href="/" tabindex="-1">
        <img src="https://pageasset.rayleigh-lin.top/logo.webp" class="avatar" alt="Rayleigh" width="120" height="120" loading="lazy" />
      </a>
    
    <a class="sidebar-title" href="/"><h2 class="h1">Rayleigh</h2></a>
    
    
      <p class="">
        Rayleigh is an HCI researcher at SUSTech

      </p>
    
  </div>

  <nav class="sidebar-nav heading" role="navigation">
    <!-- Global Debug Info -->
<!-- 
  Site Lang: en
  Page Lang: 
  Page URL: /404.html
  Page Path: 404.md
-->

<script>
  document.addEventListener('DOMContentLoaded', function () {
    function updateMenuText() {
      const menuItems = document.querySelectorAll('.sidebar-nav-item');
      const lang = document.documentElement.lang;

      menuItems.forEach(item => {
        const titleZh = item.getAttribute('data-title-zh');
        const titleEn = item.getAttribute('data-title');

        if (lang === 'zh' && titleZh) {
          item.textContent = titleZh;
        } else if (titleEn) {
          item.textContent = titleEn;
        }
      });
    }

    // 监听语言变化
    document.addEventListener('languageChanged', updateMenuText);

    // 初始更新
    const savedLang = localStorage.getItem('preferred_lang');
    if (savedLang) {
      updateMenuText();
    }
  });
</script>

<span class="sr-only">Navigation</span>
<ul>
  
  
  <li>
    <a id="_drawer--opened"  href="/publications/"
      class="sidebar-nav-item "  data-title="Publications" data-title-zh="出版物">
      Publications
    </a>
  </li>
  
  <li>
    <a  href="/projects/"
      class="sidebar-nav-item "  data-title="Projects" data-title-zh="项目">
      Projects
    </a>
  </li>
  
  <li>
    <a  href="/resume/"
      class="sidebar-nav-item "  data-title="Résumé" data-title-zh="简历">
      Résumé
    </a>
  </li>
  
  <li>
    <a  href="/travel/"
      class="sidebar-nav-item "  data-title="Travel" data-title-zh="旅行">
      Travel
    </a>
  </li>
  
  <li>
    <a  href="https://immersivedesignresearch.com/"
      class="sidebar-nav-item external"  data-title="Immersive Design Group" data-title-zh="沉浸式设计组">
      Immersive Design Group
    </a>
  </li>
  
  <li>
    <a  href="https://sites.google.com/view/kaist-witlab/"
      class="sidebar-nav-item external"  data-title="WIT Lab" data-title-zh="WIT实验室">
      WIT Lab
    </a>
  </li>
  
  
</ul>

<script>
  // 获取 HTML 标签的 lang 属性
  document.addEventListener('DOMContentLoaded', function () {
    window.currentLang = document.documentElement.lang;
    console.log('HTML Lang:', window.currentLang);
  });
</script>

<!-- 现有的导航内容 -->
<nav class="sidebar-nav">
  <!-- 现有的导航项 -->
</nav>

<!-- 添加语言切换器 -->
<script src="/assets/js/lang-switcher.js"></script>

<div class="lang-switch-container">
    <button class="lang-switch" onclick="switchLanguage('en')" data-lang="en">
        EN
    </button> |
    <button class="lang-switch" onclick="switchLanguage('zh')" data-lang="zh">
        中文（开发中）
    </button>
</div>

<style>
    .lang-switch-container {
        text-align: center;
        margin: 1rem 0;
        color: #fff;
    }

    .lang-switch {
        background: none;
        border: none;
        padding: 0.2rem 0.5rem;
        cursor: pointer;
        font-size: 0.9rem;
        color: #fff;
        text-decoration: none;
        border-bottom-color: rgba(255, 255, 255, 0.2);
    }

    .lang-switch.active {
        font-weight: bold;
        background: rgba(255, 255, 255, 0.1);
        border-radius: 3px;
    }

    .lang-switch:hover {
        background: rgba(255, 255, 255, 0.2);
        border-radius: 3px;
        text-decoration-color: rgba(255, 255, 255, 0.2);
    }

    .lang-switch-container>span {
        color: #fff;
        opacity: 0.7;
    }
</style>
  </nav>

  
  <div class="sidebar-social">
    <span class="sr-only">Social:</span>
<ul>
  
    
      



  

  
  
  
  

  

  

  <li>
    <a href="https://github.com/DragonLYL0718" title="GitHub" class="no-mark-external">
      <span class="icon-github"></span>
      <span class="sr-only">GitHub</span>
    </a>
  </li>


    
      



  

  
  
  
  

  

  

  <li>
    <a href="https://scholar.google.com/citations?hl=en&user=tKLzDo8AAAAJ" title="Google Scholar" class="no-mark-external">
      <span class="icon-googlescholar"></span>
      <span class="sr-only">Google Scholar</span>
    </a>
  </li>


    
      



  

  
  
  
  

  

  

  <li>
    <a href="mailto:lylrayleigh@gmail.com" title="Email" class="no-mark-external">
      <span class="icon-mail"></span>
      <span class="sr-only">Email</span>
    </a>
  </li>


    
      



  

  
  
  
  

  

  

  <li>
    <a href="https://500px.com.cn/LYLrayleigh" title="500px" class="no-mark-external">
      <span class="icon-500px"></span>
      <span class="sr-only">500px</span>
    </a>
  </li>


    
      



  

  
  
  
  

  

  

  <li>
    <a href="https://www.linkedin.com/in/yilong-lin-126b74296/" title="LinkedIn" class="no-mark-external">
      <span class="icon-linkedin2"></span>
      <span class="sr-only">LinkedIn</span>
    </a>
  </li>


    
  
</ul>

  </div>
</div>
  </header>
</hy-drawer>
<hr class="sr-only" hidden />
</hy-push-state>


<!--[if gt IE 10]><!---->
  <script nomodule>!function(){var t,n=document.createElement("script");!("noModule"in n)&&"onbeforeload"in n&&(t=!1,document.addEventListener("beforeload",function(e){if(e.target===n)t=!0;else if(!e.target.hasAttribute("nomodule")||!t)return;e.preventDefault()},!0),n.type="module",n.src=".",document.head.appendChild(n),n.remove())}();
</script>
  <script src="/assets/js/hydejack-9.1.6.js" type="module"></script>
  <script src="/assets/js/LEGACY-hydejack-9.1.6.js" nomodule defer></script>
  

  

<!--<![endif]-->
<!-- <script>
  document.querySelector('hy-push-state').setAttribute('prefetch', '');

  document.querySelectorAll('.sidebar a[href^="/"]').forEach(function (el) { 
    el.addEventListener('click', function (e) {
      if (el.pathname === window.location.pathname) {
        e.preventDefault();
        e.stopPropagation();
        document.querySelector('hy-drawer').close();
      }
    });
  });
</script> -->

<!--
Code for integrating CloudFlare's email protection with Hydejack's single page app loading.
-->
<script>
  document.getElementById('_pushState').addEventListener('hy-push-state-after', function (e) {
    function e(e){
      (console.error?console.error:console.log).call(console,e)
    }

    function t(e){
      return l.innerHTML='<a href="'+e.replace(/"/g,"&quot;")+'"></a>',l.childNodes[0].getAttribute("href")
    }

    function r(e,t){
      var r=e.substr(t,2);return parseInt(r,16)
    }

    function n(e,n){
      for(var o="",c=r(e,n),a=n+2;a<e.length;a+=2){
        var l=r(e,a)^c;
        o+=String.fromCharCode(l)
      }
      return t(o)
    }

    var o="/cdn-cgi/l/email-protection#",
        c=".__cf_email__",
        a="data-cfemail",
        l=document.createElement("div");

    !function(){
      for(var t=document.getElementsByTagName("a"),r=0;r<t.length;r++)
        try{
          var c=t[r],a=c.href.indexOf(o);
          a>-1&&(c.href="mailto:"+n(c.href,a+o.length))
        }catch(t){
          e(t)
        }
    }(),
    function(){
      for(var t=document.querySelectorAll(c),r=0;r<t.length;r++)
        try{
          var o=t[r],l=n(o.getAttribute(a),0),i=document.createTextNode(l);
          o.parentNode.replaceChild(i,o)
        }catch(t){
          e(t)
        }
    }()
  });
</script>





<div hidden>
  
  <h2 class="sr-only">Templates (for web app):</h2>

  <template id="_animation-template">
  <div class="animation-main fixed-top">
    <nav id="breadcrumbs" class="screen-only"><ul>
  
  
</ul></nav>
    <div class="content">
      <div class="page"></div>
    </div>
  </div>
</template>

  <template id="_loading-template">
  <div class="loading nav-btn fr">
    <span class="sr-only">Loading…</span>
    <span class="icon-cog"></span>
  </div>
</template>

  <template id="_error-template">
  <div class="page">
    <h1 class="page-title">Error</h1>
    
    
    <p class="lead">
      Sorry, an error occurred while loading <a class="this-link" href=""></a>.

    </p>
  </div>
</template>

  <template id="_permalink-template">
  <a href="#" class="permalink">
    <span class="sr-only">Permalink</span>
    <span class="content-hash"></span>
  </a>
</template>

</div>

  <script>
    // 确保页面加载后应用正确的语言设置
    document.addEventListener('DOMContentLoaded', function () {
      const savedLang = localStorage.getItem('preferred_lang');
      if (savedLang) {
        document.documentElement.lang = savedLang;
        // 触发语言改变事件
        const event = new Event('languageChanged');
        document.dispatchEvent(event);
      }
    });

    // 监听页面内容变化
    const observer = new MutationObserver(function (mutations) {
      const savedLang = localStorage.getItem('preferred_lang');
      if (savedLang) {
        // 更新所有需要翻译的内容
        const event = new Event('languageChanged');
        document.dispatchEvent(event);
      }
    });

    // 开始观察页面内容变化
    observer.observe(document.body, {
      childList: true,
      subtree: true
    });
  </script>
</body>

</html></html>
